root = "."
tmp_dir = "tmp"

[build]
  # CRITICAL FIX: We tell Go to build the files inside ./cmd/api instead of the root
  cmd = "go build -o ./tmp/main ./cmd/api"
  
  # This is where the binary ends up
  bin = "./tmp/main"
  
  # Delay in ms after file change before building
  delay = 1000
  
  # Ignore these folders
  exclude_dir = ["assets", "tmp", "vendor", "migrations"]
  
  # Watch these extensions
  include_ext = ["go", "tpl", "tmpl", "html"]
  
  # Ignore test files
  exclude_regex = ["_test.go"]

[log]
  # Show timestamps in logs
  time = true

[misc]
  # Delete tmp directory on exit
  clean_on_exit = true